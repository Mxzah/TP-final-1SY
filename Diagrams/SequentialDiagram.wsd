@startuml
title Séquence – Pattern Décorateur (Arme & Défense)

actor Player1 as P1
participant "SharpnessDecorator\n(WeaponDecorator)" as SD
participant "WeaponDecorator\n(base)" as WD
participant "Katana\n(Concrete Weapon)" as Katana
participant Player2 as P2
participant "QuickReflexeDecorator\n(DefenseDecorator)" as QRD
participant "DefenseDecorator\n(base)" as DD
participant "Shield\n(Concrete Defense)" as Shield

== Attaque ==
P1 -> P1: Attack(target:P2)
P1 -> SD: Attack()
SD -> WD: base.Attack()
WD -> Katana: Attack()
Katana --> WD: damageBase
WD --> SD: damageBase
SD --> P1: damageBase + sharpBonus
P1 -> P2: TakesDamage(damage)

== Défense ==
P2 -> QRD: Defend()
QRD -> DD: base.Defend()
DD -> Shield: Defend()
Shield --> DD: defenseValue
DD --> QRD: defenseValue
QRD --> P2: defenseValue + reflexBonus
P2 -> P2: Apply mitigation & update HP

@enduml